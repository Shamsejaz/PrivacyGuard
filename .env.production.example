# PrivacyGuard Production Environment Configuration
# Copy this file to .env.production and update the values

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================
NODE_ENV=production
DEPLOY_ENV=production

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
BACKEND_PORT=3001
FRONTEND_PORT=80
HOST=0.0.0.0
TRUST_PROXY=true
BODY_LIMIT=10mb

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Update this to your actual domain in production
CORS_ORIGIN=https://your-domain.com
CORS_CREDENTIALS=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=privacyguard
POSTGRES_USER=privacyguard_user
# REQUIRED: Set a strong password
POSTGRES_PASSWORD=your_strong_postgres_password_here
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_SSL=false

# MongoDB Configuration
MONGODB_DB=privacyguard
MONGODB_ROOT_USER=admin
# REQUIRED: Set a strong password
MONGODB_ROOT_PASSWORD=your_strong_mongodb_password_here
MONGODB_PORT=27017
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=5

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
# REQUIRED: Set a strong password
REDIS_PASSWORD=your_strong_redis_password_here
REDIS_DB=0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
# REQUIRED: Generate a strong secret (at least 32 characters)
JWT_SECRET=your_jwt_secret_at_least_32_characters_long_here
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption
BCRYPT_ROUNDS=12

# Session Configuration
SESSION_TIMEOUT=3600000

# CSRF Protection
CSRF_PROTECTION=true

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_CONSOLE=true
LOG_FILE=true
LOG_AUDIT=true
LOG_PERFORMANCE=true
LOG_MAX_FILE_SIZE=10m
LOG_MAX_FILES=5

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
MONITORING_HEALTH_CHECKS=true
MONITORING_METRICS=true
MONITORING_TRACING=false
MONITORING_METRICS_INTERVAL=60000

# Alert Thresholds
ALERT_RESPONSE_TIME=5000
ALERT_ERROR_RATE=0.05
ALERT_MEMORY_USAGE=0.85
ALERT_CPU_USAGE=0.80

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_DEFAULT_TTL=3600
CACHE_MAX_MEMORY=256mb
CACHE_EVICTION_POLICY=allkeys-lru
CACHE_COMPRESSION=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4
BACKUP_RETENTION_MONTHLY=12
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false
BACKUP_STORAGE_LOCATION=./backups

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
EMAIL_ENABLED=false
EMAIL_PROVIDER=smtp

# SMTP Configuration (if using SMTP)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password

# SendGrid Configuration (if using SendGrid)
# SENDGRID_API_KEY=your_sendgrid_api_key

# AWS SES Configuration (if using SES)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
STORAGE_PROVIDER=local
STORAGE_LOCAL_PATH=./uploads
STORAGE_MAX_FILE_SIZE=10mb

# S3 Configuration (if using S3)
# S3_BUCKET=your-s3-bucket
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=your_s3_access_key
# S3_SECRET_ACCESS_KEY=your_s3_secret_key

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
VITE_API_BASE_URL=http://localhost:3001/api/v1
VITE_WS_URL=ws://localhost:3001

# =============================================================================
# MONITORING SERVICES (Optional)
# =============================================================================

# Grafana Configuration
GRAFANA_ADMIN_PASSWORD=your_grafana_admin_password

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_HOST=localhost
HEALTH_CHECK_PORT=3001
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_ENDPOINT=/health

# Memory limit for health checks (MB)
MEMORY_LIMIT_MB=1024

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Whether to seed initial data on deployment
SEED_DATA=false

# Docker resource limits
POSTGRES_MEMORY_LIMIT=512M
POSTGRES_CPU_LIMIT=0.5
MONGODB_MEMORY_LIMIT=512M
MONGODB_CPU_LIMIT=0.5
REDIS_MEMORY_LIMIT=256M
REDIS_CPU_LIMIT=0.25
BACKEND_MEMORY_LIMIT=1G
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=256M
FRONTEND_CPU_LIMIT=0.5

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Certificate paths (for NGINX)
SSL_CERT_PATH=/etc/nginx/ssl/privacyguard.crt
SSL_KEY_PATH=/etc/nginx/ssl/privacyguard.key

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Google Cloud DLP API (for PII detection)
# GOOGLE_CLOUD_PROJECT_ID=your-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Microsoft Presidio (for PII detection)
# PRESIDIO_ANALYZER_URL=http://localhost:5001
# PRESIDIO_ANONYMIZER_URL=http://localhost:5002

# =============================================================================
# DEVELOPMENT/TESTING (Remove in production)
# =============================================================================

# Set to true only for development/testing
DEBUG_MODE=false
ENABLE_SWAGGER=false
ENABLE_DEBUG_ROUTES=false